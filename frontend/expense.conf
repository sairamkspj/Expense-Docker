server {
    # 1. Define where Nginx should listen (e.g., port 80)
    listen 80;
    server_name _; # Use '_' as a generic name

    # 2. Place the proxy setting inside the server block
    proxy_http_version 1.1;

    # 3. Place the first location block inside the server block
    location /api/ {
        proxy_pass http://backend:8080/;
    }

    # 4. Place the second location block inside the server block
    location /health {
        stub_status on;
        access_log off;
    }

    # Optional: Serve static files for the root path
    # location / {
    #     root /usr/share/nginx/html;
    #     index index.html;
    # }
}